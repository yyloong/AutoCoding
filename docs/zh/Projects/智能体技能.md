# Agent Skills (æ™ºèƒ½ä½“æŠ€èƒ½)


## 1. èƒŒæ™¯å’ŒåŠ¨æœº

- **é€šç”¨æ™ºèƒ½ä½“çš„æ¼”è¿›éœ€æ±‚**
  - éšç€æ¨¡å‹èƒ½åŠ›æå‡ï¼Œæ™ºèƒ½ä½“å·²èƒ½ä¸å®Œæ•´è®¡ç®—ç¯å¢ƒï¼ˆå¦‚ä»£ç æ‰§è¡Œã€æ–‡ä»¶ç³»ç»Ÿï¼‰äº¤äº’ï¼Œæ‰§è¡Œè·¨é¢†åŸŸå¤æ‚ä»»åŠ¡
  - æ›´å¼ºå¤§çš„æ™ºèƒ½ä½“éœ€è¦æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€å¯ç§»æ¤çš„æ–¹å¼æ³¨å…¥é¢†åŸŸä¸“ä¸šçŸ¥è¯†


- **æŠ€èƒ½å³çŸ¥è¯†å°è£…**
  - å°†äººç±»çš„æµç¨‹æ€§çŸ¥è¯†æ‰“åŒ…ä¸ºå¯å¤ç”¨ã€å¯ç»„åˆçš„â€œæŠ€èƒ½â€ï¼Œæ— éœ€ä¸ºæ¯ä¸ªåœºæ™¯é‡å»ºå®šåˆ¶æ™ºèƒ½ä½“
  - ä»¥ç»“æ„åŒ–æ–‡ä»¶å¤¹å½¢å¼ï¼ˆå«æŒ‡ä»¤ã€è„šæœ¬ã€èµ„æºï¼‰åŠ¨æ€åŠ è½½ï¼Œä½¿æ™ºèƒ½ä½“åœ¨ç‰¹å®šä»»åŠ¡ä¸Šè¡¨ç°æ›´ä¼˜


- **çµæ´»æ€§ä¸é€‚åº”æ€§**
  - æ„å»ºæŠ€èƒ½å¦‚åŒç¼–å†™å…¥èŒæŒ‡å—ï¼Œé™ä½ä¸“ä¸šåŒ–é—¨æ§›ï¼Œæå‡æ™ºèƒ½ä½“çš„çµæ´»æ€§ä¸é€‚åº”æ€§


<br>

æ›´å¤šå…³äº`Agent Skills`çš„å†…å®¹ï¼Œå‚è€ƒ: [Anthropic Agent Skills](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview)

<br>


## 2. æ™ºèƒ½ä½“æŠ€èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ


### 1) æ¶æ„

- æ™ºèƒ½ä½“æŠ€èƒ½æ¶æ„

![Skill-Architecture](../../resources/skill_architecture.png)


- æ–‡ä»¶å¤¹ç»“æ„
```
skill-name/
â”œâ”€â”€ SKILL.md              # Main skill definition           (Required)
â”œâ”€â”€ reference.md          # Detailed reference material     (Optional)
â”œâ”€â”€ LICENSE.txt           # License information             (Optional)
â”œâ”€â”€ resources/            # Additional resources            (Optional)
â”‚   â”œâ”€â”€ template.xlsx     # Example files
â”‚   â””â”€â”€ data.json         # Data files
â””â”€â”€ scripts/              # Executable scripts              (Optional)
    â”œâ”€â”€ main.py           # Main implementation
    â””â”€â”€ helper.py         # Helper functions
```

### 2) SKILL.md æ–‡ä»¶æ ¼å¼

`SKILL.md` æ–‡ä»¶ä½¿ç”¨YAMLå‰ç½®å†…å®¹å®šä¹‰å…ƒæ•°æ®ï¼Œåç»­ä¸ºè¯¦ç»†è¯´æ˜çš„Markdownå†…å®¹ã€‚

![Skill-MD-File](../../resources/skill_md_file.png)

ğŸ’¡ è¯´æ˜ï¼š
 - `name`å’Œ`description`å­—æ®µä¸ºå¿…å¡«é¡¹ã€‚
 - `SKILL.md`æ–‡ä»¶çš„æ­£æ–‡éƒ¨åˆ†åº”æä¾›å…³äºæŠ€èƒ½çš„å…¨é¢æè¿°ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€ä½¿ç”¨è¯´æ˜ã€å‚è€ƒèµ„æ–™ã€èµ„æºå’Œç¤ºä¾‹ã€‚

[SKILL.mdç¤ºä¾‹](https://github.com/anthropics/skills/blob/main/document-skills/pdf/SKILL.md)


### 3) ç»‘å®šé™„åŠ å†…å®¹


é™„åŠ çš„æ–‡ä»¶å¯ä»¥åŒ…å«åœ¨`SKILL.md`ä¸­ä»¥æ‰©å±•æŠ€èƒ½åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š
- References (ä¾‹å¦‚ `reference.md` å’Œ `forms.md`)

![Skill-Additional-Content](../../resources/skill_additional_content.png)

- Scripts

![Skill-Additional-Scripts](../../resources/skill_additional_scripts.png)


### 4) æŠ€èƒ½å’Œä¸Šä¸‹æ–‡

- æ¨èè®¾ç½®æŠ€èƒ½æ–‡ä»¶çš„tokené™åˆ¶ï¼Œä»¥ç¡®ä¿åœ¨ä¸Šä¸‹æ–‡çª—å£é™åˆ¶å†…é«˜æ•ˆåŠ è½½

![Skill-Files-Limitation](../../resources/skill_files_limitation.png)

![Skill-Context-Window](../../resources/skill_context_window.png)


<br>


## 3. æŠ€èƒ½çš„å®ç°

### 1) æ¦‚è§ˆ

**MS-Agent**æ¡†æ¶çš„**AgentSkills**æ¨¡å—æ˜¯å¯¹[Anthropic-Agent-Skills](https://docs.claude.com/en/docs/agents-and-tools/agent-skills)åè®®çš„å®ç°ï¼ˆBetaç‰ˆæœ¬ï¼‰ã€‚

`Agent Skills`å®ç°äº†å¤šå±‚æ¬¡æ¸è¿›å¼ä¸Šä¸‹æ–‡åŠ è½½æœºåˆ¶ï¼Œæœ‰æ•ˆç®¡ç†æŠ€èƒ½çš„å‘ç°ä¸æ‰§è¡Œï¼š

1. **Level 1 (Metadata)**: ä»…åŠ è½½æŠ€èƒ½å…ƒæ•°æ®ï¼ˆåç§°ã€æè¿°ï¼‰ä»¥è¿›è¡Œè¯­ä¹‰æœç´¢
2. **Level 2 (Retrieval)**: æ£€ç´¢ç›¸å…³æŠ€èƒ½å¹¶åŠ è½½SKILL.mdå…¨æ–‡
3. **Level 3 (Resources)**: è¿›ä¸€æ­¥åŠ è½½æŠ€èƒ½æ‰€éœ€çš„å‚è€ƒèµ„æ–™å’Œèµ„æºæ–‡ä»¶
4. **Level 4 (Analysis|Planning|Execution)**: åˆ†ææŠ€èƒ½ä¸Šä¸‹æ–‡ï¼Œè‡ªä¸»åˆ¶å®šè®¡åˆ’å’Œä»»åŠ¡åˆ—è¡¨ï¼Œå¹¶åŠ è½½æ‰€éœ€èµ„æºå’Œè¿è¡Œç›¸å…³è„šæœ¬

è¿™ç§æ–¹æ³•åœ¨æä¾›å…¨é¢æŠ€èƒ½èƒ½åŠ›çš„åŒæ—¶ï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘èµ„æºæ¶ˆè€—ã€‚


* æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶             | æè¿°               |
|------------------|------------------|
| `AgentSkill`     | ä¸»æµç¨‹              |
| `SkillLoader`    | åŠ è½½å’Œç®¡ç†æŠ€èƒ½          |
| `Retriever`      | ä½¿ç”¨è¯­ä¹‰æœç´¢æŸ¥æ‰¾ç›¸å…³æŠ€èƒ½     |
| `SkillContext`   | æŠ€èƒ½ä¸Šä¸‹æ–‡ç®¡ç†          |
| `ScriptExecutor` | æŠ€èƒ½æ‰§è¡Œæ¨¡å—           |
| `SkillSchema`    | æŠ€èƒ½Schemaå®šä¹‰       |

### 2) ä¸»è¦ç‰¹æ€§

- ğŸ“œ **æ ‡å‡†æŠ€èƒ½åè®®**ï¼šå®Œå…¨å…¼å®¹ [Anthropic Skills](https://github.com/anthropics/skills) åè®®
- ğŸ§  **å¯å‘å¼ä¸Šä¸‹æ–‡åŠ è½½**ï¼šä»…æŒ‰éœ€åŠ è½½å¿…è¦ä¸Šä¸‹æ–‡ï¼ˆå¦‚ `References`ã€`Resources` å’Œ `Scripts`ï¼‰
- ğŸ¤– **è‡ªä¸»æ‰§è¡Œèƒ½åŠ›**ï¼šæ™ºèƒ½ä½“å¯æ ¹æ®æŠ€èƒ½å®šä¹‰ï¼Œè‡ªä¸»åˆ†æã€è§„åˆ’å¹¶å†³ç­–éœ€è°ƒç”¨çš„è„šæœ¬ä¸èµ„æº
- ğŸ” **æŠ€èƒ½ç®¡ç†æ”¯æŒ**ï¼šæ”¯æŒæ‰¹é‡åŠ è½½æŠ€èƒ½ï¼Œå¹¶èƒ½æ ¹æ®ç”¨æˆ·è¾“å…¥è‡ªåŠ¨æ£€ç´¢ä¸å‘ç°ç›¸å…³æŠ€èƒ½
- ğŸ›¡ï¸ **ä»£ç æ‰§è¡Œç¯å¢ƒ**ï¼šå¯é€‰æœ¬åœ°ç›´æ¥æ‰§è¡Œä»£ç ï¼Œæˆ–é€šè¿‡ [**ms-enclave**](https://github.com/modelscope/ms-enclave) æä¾›çš„å®‰å…¨æ²™ç®±æ‰§è¡Œï¼ˆè‡ªåŠ¨å®‰è£…ä¾èµ–ã€å®ç°ç¯å¢ƒéš”ç¦»ï¼‰
- ğŸ“ **å¤šæ–‡ä»¶ç±»å‹æ”¯æŒ**ï¼šæ”¯æŒæ–‡æ¡£ã€è„šæœ¬ä¸èµ„æºæ–‡ä»¶ç­‰å¤šç§ç±»å‹
- ğŸ§© **å¯æ‰©å±•è®¾è®¡**ï¼šæŠ€èƒ½æ•°æ®ç»“æ„æ¨¡å—åŒ–ï¼Œæä¾›å¦‚ `SkillSchema` å’Œ `SkillContext` ç­‰å®ç°ï¼Œä¾¿äºæ‰©å±•ä¸å®šåˆ¶


### 3) å®‰è£…

* Install from PyPI
```bash
pip install 'ms-agent>=1.4.0'
```

* Install from Source
```bash
git clone git@github.com:modelscope/ms-agent.git
cd ms-agent
pip install -e .
```

* Configuration
```bash
export OPENAI_API_KEY="your-api-key"
export OPENAI_BASE_URL="your-base-url"
```


### 4) ä½¿ç”¨æ–¹æ³•

> ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°`æµåœºç²’å­è‰ºæœ¯ç”Ÿæˆ`çš„ç¤ºä¾‹

```python
import os
from ms_agent.agent import create_agent_skill


def main():
    """
    Main function to create and run an agent with skills.
    """
    work_dir: str = './temp_workspace'
    # Refer to `https://github.com/modelscope/ms-agent/tree/main/projects/agent_skills/skills`
    skills_dir: str = './skills'
    use_sandbox: bool = True

    ## Configuration for ModelScope API-Inference, or set your own model with OpenAI API compatible format
    ## Free LLM API inference calls for ModelScope users, refer to [ModelScope API-Inference](https://modelscope.cn/docs/model-service/API-Inference/intro)
    model: str = 'Qwen/Qwen3-235B-A22B-Instruct-2507'
    api_key: str = 'xx-xx'  # For ModelScope users, refer to `https://modelscope.cn/my/myaccesstoken` to get your access token
    base_url: str = 'https://api-inference.modelscope.cn/v1/'

    agent = create_agent_skill(
        skills=skills_dir,
        model=model,
        api_key=os.getenv('OPENAI_API_KEY', api_key),
        base_url=os.getenv('OPENAI_BASE_URL', base_url),
        stream=True,
        # Note: Make sure the `Docker Daemon` is running if use_sandbox=True
        use_sandbox=use_sandbox,
        work_dir=work_dir,
    )

    user_query: str = ('Create generative art using p5.js with seeded randomness, flow fields, and particle systems, '
                       'please fill in the details and provide the complete code based on the templates.')

    response = agent.run(query=user_query)
    print(f'\n\n** Agent skill results: {response}\n')


if __name__ == '__main__':

    main()
```

* æœ¬åœ°æ‰§è¡Œ
  - è‹¥ `use_sandbox=False`ï¼ŒæŠ€èƒ½è„šæœ¬å°†åœ¨æœ¬åœ°ç¯å¢ƒä¸­ç›´æ¥æ‰§è¡Œ
  - è¯·ç¡®ä¿æ‚¨ä¿¡ä»»è¯¥æŠ€èƒ½è„šæœ¬ï¼Œä»¥é¿å…æ½œåœ¨çš„å®‰å…¨é£é™©
  - è¯·ç¡®ä¿æœ¬åœ° Python ç¯å¢ƒä¸­å·²å®‰è£…è„šæœ¬æ‰€éœ€çš„å…¨éƒ¨ä¾èµ–é¡¹

* æ²™ç®±æ‰§è¡Œ
  - è‹¥ `use_sandbox=True`ï¼ŒæŠ€èƒ½è„šæœ¬å°†é€šè¿‡ [**ms-enclave**](https://github.com/modelscope/ms-enclave) åœ¨éš”ç¦»çš„ Docker å®¹å™¨ä¸­æ‰§è¡Œ
  - è¯¥æ–¹å¼æä¾›å®‰å…¨çš„æ‰§è¡Œç¯å¢ƒï¼Œå¯æœ‰æ•ˆé˜²æ­¢å¯¹å®¿ä¸»ç³»ç»Ÿé€ æˆæ½œåœ¨å±å®³
  - è¯·ç¡®ä¿æ‚¨çš„æœºå™¨ä¸Šå·²å®‰è£… Dockerï¼Œå¹¶ä¸” Docker æœåŠ¡ï¼ˆDocker Daemonï¼‰æ­£åœ¨è¿è¡Œ
  - æ²™ç®±ç¯å¢ƒå°†æ ¹æ®æŠ€èƒ½å£°æ˜çš„ä¾èµ–é¡¹è‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

<br>

**è¿è¡Œç»“æœ**

![Flow Field Particles](../../resources/skill_algorithmic_art_result.gif)


<br>


## å‚è€ƒæ–‡æ¡£

* Anthropic Agent Skillså®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.claude.com/en/docs/agents-and-tools/agent-skills
* Anthropic Skills GitHubä»“åº“ï¼š https://github.com/anthropics/skills

<br>
