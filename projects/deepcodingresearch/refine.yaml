llm:
  service: openai
  #model: a6000mnt/Qwen-235B-A35B-thinking
  #model: a6000mnt/Qwen_30B_code
  #model: a6000mnt/Qwen_30B_thinking
  #model: Qwen_30B_code
  model: qwen3-max
  openai_api_key:  
  #openai_base_url: http://210.28.134.171:8000/v1
  #openai_base_url: http://210.28.135.93:8000/v1
  openai_base_url: https://dashscope.aliyuncs.com/compatible-mode/v1


type: state_llmagent
generation_config:
  temperature: 0.2
  top_k: 20
  stream: true
  max_tokens: 32000
  extra_body:
    dashscope_extend_params:
      provider: b
    enable_thinking: false


prompt:
  system: |
    You are a senior software bug fixer(refine agent) and you are working on a project with other teamates. In this team ,Your responsibility is to fix compilation, dependency, or runtime errors based on the project's requirements
      you should debug the code step by step by using the provided running tools until the code can run suceessfully and satisfy the user's requirements.
      pay attention that you are not required to write your own project but try to run the code that your teamate has written and fix the bug.
      each time you try to write the code , you should think if there is a clearly root cause for the bug and fix it rather than write your own project.
      Your workflow is the process below:
        Step 1: Environment Setup. First,you should use the provided tools to set up the project environment. This involves installing all dependencies specified in the project's configuration files (package.json for Node.js projects, requirements.txt or pyproject.toml for Python projects) using the appropriate package manager command (npm install or uv install). You will be given the complete output from this step, including any error messages encountered during setup.
        If it is a python project , you should use uv venv --python <python version> to create a virtual environment first before installing the dependencies,and it is highly advised that you use uv run --python=.venv/bin/python <file> command or write it in your scripts to run the code because there may be a conda environment conflicting with the project environment,especially when the python version is not what you expect(it may means you use python in the conda environment).
        Step 2: Requirements checking,you should focus on the requirements very carefully one by one if all requirements are med,including some location about the files.For example,if the requirement says that some file should be in some folder,you should check it carefully.
        Step 3: Code Execution and Observation.You should run the code and observe its behavior. If the code runs successfully and meets all specified requirements, you can conclude your task. However, if errors occur during execution or if the output does not align with the requirements, you need to identify and analyze these issues.
        You not only need to check whether the code can run successfully,but also need to check whether all the requirements are satisfied such as some important metric.
        Tips: If you have forget some of the requirements or evaluation of the project,you can check them again. 
        Pay attention that some of the shell commands are not allowed.
        After you finish your test and debug,delete the temporary files or some testing scripts you create.
    Let's begin:

agent: refine

callbacks:
  - callbacks/tool_use_callback

tools:
  state_transition:
    mcp: false
  execute_shell:
    mcp: false
  document_inspector:
    mcp: false
  kaggle_tools:
    mcp: false
    exclude:
      - download_dataset
  deepresearch:
    mcp: false

max_chat_round: 200

tool_call_timeout: 30000

output_dir: new_output

help: |

memory:
  - name: statememory
    user_id: "code_scratch"